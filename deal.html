<head>
	<script>
	function initiate(){
		counter  = 0;
		firstcase = 0;
		var myArray = ['0.01','1','5','10','100','1000','10000','100000','500000','1000000'];
		newArray = shuffle(myArray);
		for (var i=0; i<10;i++)
		{
			document.getElementById('l'+i).innerHTML = parseInt(i)+1;
			document.getElementById('l'+i).style.color = 'black';
			document.getElementById('b'+i).style.backgroundColor = 'lightblue';
			document.getElementById('b'+i).value = '$'+newArray[i];
			document.getElementById('b'+i).disabled = false;
			document.getElementById('c'+i).checked = false;
		}
		document.getElementById("offer").value = "";
		document.getElementById("deal").disabled = true;
		document.getElementById("deal").style.color = 'silver';
	}
	
	function shuffle(o){ 
	    for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
	    return o;
	}
	
	function buttonclicked(labelid){
		if (counter == 0){
			document.getElementById('l' + labelid).style.color = 'silver';
			document.getElementById('b' + labelid).style.backgroundColor = 'blue';
			document.getElementById('b' + labelid).disabled = true;
			firstcase = labelid;
		}
		else{
			document.getElementById('l' + labelid).innerHTML = document.getElementById('b' + labelid).value;
			document.getElementById('b' + labelid).style.backgroundColor = 'yellow';
			document.getElementById('b' + labelid).disabled = true;
			for (var i=0;i<10;i++)
			{
				if (document.getElementById('b' + labelid).value == document.getElementById('cl'+i).innerHTML){
					checkedid = i;
				}
			}
			document.getElementById('c' + checkedid).checked = true;
			if (counter == 1){
				document.getElementById("deal").disabled = false; 
				document.getElementById("deal").style.color = 'yellow';
			}
			if (counter <9){
				document.getElementById("offer").value = getoffer();
			}
			else{
				document.getElementById("offer").value = document.getElementById('b' + firstcase).value.replace(/./,'');
				document.getElementById('l' + firstcase).innerHTML = document.getElementById('b' + firstcase).value;
				alert("Congratulations! You win $"+ document.getElementById("offer").value);
			} 
		}
		counter++;
	}
	
	function deal(){
		document.getElementById('l' + firstcase).innerHTML = document.getElementById('b' + firstcase).value;
		for (var i=0;i<10;i++){
			document.getElementById('b'+i).disabled = true;
		}
		alert("Congratulations! You win $"+ document.getElementById("offer").value);
	}
	
	function getoffer(){
		var sum = 0;
		var j = 0;
		for (var i = 0; i < 10 ;i++)
		{
			if (document.getElementById('b' + i).disabled == false){
				temp = document.getElementById('b' + i).value;
				temp = temp.replace(/./,'');
				sum = sum + parseFloat(temp);
				j++;
			}
		}
		if (j > 0){
			return mean = parseInt(sum * 0.9/j);
		}
	}
	
	</script>
</head>




<body>
	<h2>Instructions</h2>
	<p>To play click on the Start New Game button.</p>
	<p>Choose one of the 10 light blue buttons to be your suitcase that you may choose to hold until the end of the game.</p>
	<p>Then choose another button, which corresponds to opening a suitcase with a certain money amount.</p>
	<p>Then choose between Deal or opening another suitcase. If you choose Deal, then the game ends and you win the amount of money given in the offer box. If you open another suitcase, then you will receive a new offer.</p>
	<p>Continue in this fashion until you choose Deal or until you have opened all of the suitcases, in which you will winhe amount that is in the suitcase you chose at the beginning of the game.</p>
	<p>To play another game, just click on the Start New Game button again.</p>
	<hr>
<center><p>
	Offer<input type = "text" id = "offer" size = "7" maxlength = "7" disabled = "disabled"><br />
</p></center>
<center><p>
	<button id = "b0" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(0)"><label id="l0">1</label></button>
	<button id = "b1" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(1)"><label id="l1">2</label></button>
	<button id = "b2" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(2)"><label id="l2">3</label></button>
	<button id = "b3" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(3)"><label id="l3">4</label></button>
	<button id = "b4" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(4)"><label id="l4">5</label></button><br/>
	<button id = "b5" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(5)"><label id="l5">6</label></button>
	<button id = "b6" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(6)"><label id="l6">7</label></button>
	<button id = "b7" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(7)"><label id="l7">8</label></button>
	<button id = "b8" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(8)"><label id="l8">9</label></button>
	<button id = "b9" style="background-color:lightblue;width:120;height:60" disabled = "disabled" onclick = "buttonclicked(9)"><label id="l9">10</label></button><br/>
</p></center>

<center><p>
	<input type = "checkbox" id = "c0" onclick = "return false"> <label id = "cl0" >$0.01</label>
	<input type = "checkbox" id = "c1" onclick = "return false"> <label id = "cl1" >$1</label>
	<input type = "checkbox" id = "c2" onclick = "return false"> <label id = "cl2" >$5</label>
	<input type = "checkbox" id = "c3" onclick = "return false"> <label id = "cl3" >$10</label>
	<input type = "checkbox" id = "c4" onclick = "return false"> <label id = "cl4" >$100</label>
	<input type = "checkbox" id = "c5" onclick = "return false"> <label id = "cl5" >$1000</label>
	<input type = "checkbox" id = "c6" onclick = "return false"> <label id = "cl6" >$10000</label>
	<input type = "checkbox" id = "c7" onclick = "return false"> <label id = "cl7" >$100000</label>
	<input type = "checkbox" id = "c8" onclick = "return false"> <label id = "cl8" >$500000</label>
	<input type = "checkbox" id = "c9" onclick = "return false"> <label id = "cl9" >$1000000</label>
</p></center>

<center><p>
	<button id = "deal" style="background-color:green;color:yellow;width:120;height:60" onclick = "deal()">Deal</button>
	<button id = "new" style="background-color:green;color:yellow;width:120;height:60" onclick = "initiate()">Start New Game</button>
</p></center>
</body>

